#N canvas 344 128 1034 521 12;
#X declare -path else;
#X obj 301 250 bng 17 250 50 0 empty empty empty 17 7 0 10 -228856
-1 -1;
#X obj 301 276 tabplay~ \$0-IR;
#X obj 301 314 out~;
#X text 325 250 Play IR:;
#X obj 618 395 out~;
#X text 45 26 Partitioned convolution divides the IR into smaller bits
so we get much shorter latencies suitable for live input. The convolution
is done in each partition separately.;
#X text 46 84 We can implement this in a Pd patch by loading different
instances of each partition inside [clone]. In this way \, an input
is convoluted to all partitions at the same time \, but they're delayed
accordingly so they get added at the right time.;
#X obj 660 242 *~;
#X obj 678 175 bng 20 250 50 0 empty empty empty 17 7 0 10 -228856
-1 -1;
#X text 45 167 The [conv~] object from the ELSE library is an abstraction
that implements partitioned convolution this way. It needs a partition
size and an audio file to load as an IR. Below we load a rather bizarre
IR file: a voice sample \, also used in Pd Vanilla's example.;
#X floatatom 555 177 5 0 0 0 - - -;
#X obj 555 205 standard~ 100;
#X obj 678 204 envgen~ 500 1 150 0;
#X text 55 396 This is to reinforce the idea of using convolution as
a general sound processor. It's been noted that conviolution is widely
used as a reverberator \, but you can also think of it as a filter.
We'll get back to convolution when we discuss in depth filters and
reverbs \, but for now let's have fun with it in a more creative way.
;
#X obj 706 234 tgl 20 0 empty empty empty 17 7 0 10 -228856 -1 -1 0
1;
#X obj 706 267 + 1;
#X obj 661 310 xselect~ 2 100 1;
#X text 521 53 The sound input in the convolution is a chaotic oscillator.
Since the IR actually sounds more like an input \, we can think of
the input as the actual IR \, since the operation is commutative (convoluting
a and B is the same as convoluting B and A). We also have an envelope
generator to control the incoming sound. As an alternative \, we also
have a sample input that you can select with [xselect~]., f 68;
#X text 731 235 <= change input;
#X obj 512 286 out~;
#X text 726 424 <= watch it \, this can get loud!!!;
#X text 548 467 Check the help file of [conv~] for more details on
it.;
#X obj 834 18 declare -path else;
#X obj 770 265 play.file~ /bubul.wav 1 1;
#X obj 661 352 conv~ 1024 voice.wav;
#X obj 60 304 sample~ \$0-IR voice.wav, f 24;
#X connect 0 0 1 0;
#X connect 1 0 2 1;
#X connect 1 0 2 0;
#X connect 7 0 16 0;
#X connect 8 0 12 0;
#X connect 10 0 11 0;
#X connect 11 0 7 0;
#X connect 11 0 19 0;
#X connect 11 0 19 1;
#X connect 12 0 7 1;
#X connect 14 0 15 0;
#X connect 15 0 16 0;
#X connect 16 0 24 0;
#X connect 23 0 16 1;
#X connect 24 0 4 0;
#X connect 24 0 4 1;
