#N struct DS-8 float x float y array table f;
#N struct f float y;
#N canvas 228 69 746 401 12;
#N canvas 1024 168 334 221 display 1;
#X scalar DS-8 10 105 \; 0 \; 0 \; 0 \; 0 \; 0 \; 100 \; 0 \; 0 \;
0 \; 0 \; 0 \; 0 \; 0 \; 0 \; 0 \; 0 \; \;;
#X coords 0 221 1 220 0 0 0;
#X restore 201 169 pd display;
#X obj 629 129 pointer;
#X obj 43 188 loadbang;
#X obj 527 118 r coords;
#N canvas 529 134 480 272 element 0;
#X obj 160 139 struct f float y;
#X text 33 42 The element is defined as a struct of name "f" containing
only a float named "y". Since this is also the special variable name
for the vertical coordinate \, this means you can drag this element
vertically \, as in Pd's arrays.;
#X obj 85 217 filledpolygon 0 0 1 -2 -2 2 -2 2 2 -2 2;
#X text 82 187 draw a black dot to represent the value:;
#X restore 119 142 pd element;
#X obj 374 134 r size;
#N canvas 391 208 509 380 template 0;
#X text 61 46 Data Structure named "DS-8" holding coordinates floats
"x/y" and an array named "table" using the struct named "element" defined
in the other subpatch., f 53;
#X obj 75 128 struct DS-8 float x float y array table f;
#X obj 169 292 plot table 900 2 0 0 20;
#X text 83 200 The drawing instruction now add more arguments. Besides
the name we have the color number \, a line width \, a coordinates
pair and a spacing value (20) between the floats in the array., f
47;
#X restore 201 142 pd template;
#X obj 527 159 append DS-8 x y;
#X obj 374 191 setsize DS-8 table;
#X obj 404 294 element DS-8 table;
#X obj 358 343 set f y;
#X obj 374 161 display;
#X text 416 318 <= pointer to element;
#X obj 629 99 r pointer;
#X obj 404 263 nbx 3 16 0 15 0 0 empty index empty 0 -8 0 12 -228856
-1 -1 5 256;
#X obj 336 261 nbx 4 16 -100 100 0 0 empty empty empty 0 -8 0 12 -228856
-1 -1 100 256;
#X text 411 239 index;
#X text 340 237 value;
#X msg 43 219 \; pd-display clear \, vis 1 \; pointer traverse pd-display
\, bang \; coords 10 105 \; size 16 \; index 5;
#X text 87 26 The [element] object returns a pointer to an element
in an array \, so you can use it to get or set its value (with [set]/[get]).
On this patch we use [set] to set array values. But first \, check
the [pd element] and [pd template] subpateches for new information.
, f 77;
#X connect 1 0 7 2;
#X connect 2 0 18 0;
#X connect 3 0 7 0;
#X connect 5 0 11 0;
#X connect 7 0 8 1;
#X connect 7 0 9 1;
#X connect 9 0 10 1;
#X connect 11 0 8 0;
#X connect 13 0 1 0;
#X connect 14 0 9 0;
#X connect 15 0 10 0;
